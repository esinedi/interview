(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/list/index"],{2208:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("2eee")),a=i(n("448a")),r=i(n("c973")),c={components:{ListItem:function(){n.e("pages/list/components/Item").then(function(){return resolve(n("e87a"))}.bind(null,n)).catch(n.oe)}},data:function(){return{list:[],option:{name:"",search:""},index:0,isLoadMore:!1,statusLoad:"loading"}},onLoad:function(t){this.option=t,-2!=Number(this.option.type_id)&&(-1==Number(this.option.type_id)&&(this.option.name="搜索"),this.typeSearch())},onShow:function(){-2==Number(this.option.type_id)&&(this.initData(),this.collectSearch())},onReachBottom:function(){var t=this;return(0,r.default)(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoadMore){e.next=9;break}if(t.isLoadMore=!0,t.index++,-2!=Number(t.option.type_id)){e.next=7;break}return e.next=6,t.collectSearch();case 6:return e.abrupt("return");case 7:return e.next=9,t.typeSearch();case 9:case"end":return e.stop()}}),e)})))()},methods:{typeSearch:function(){var t=this;this.$cloudApi.call({name:"question-list",data:{pageIndex:this.index,pageSize:10,search:this.option.search||"",type_id:this.option.type_id}}).then((function(e){0===e.result.length?(t.isLoadMore=!0,t.statusLoad="noMore"):(t.isLoadMore=!1,t.list=[].concat((0,a.default)(t.list),(0,a.default)(e.result)))})).catch((function(){t.isLoadMore=!1}))},collectSearch:function(){var e=this,n=t.getStorageSync("userInfo").openid||"";this.$cloudApi.call({name:"collect-question-list",data:{pageIndex:this.index,pageSize:10,openid:n}}).then((function(t){0===t.result.length?(e.isLoadMore=!0,e.statusLoad="noMore"):(e.isLoadMore=!1,t.result.forEach((function(t){e.list=[].concat((0,a.default)(e.list),(0,a.default)(t.collectList))})))})).catch((function(){e.isLoadMore=!1}))},searchText:function(){this.initData(),this.typeSearch()},initData:function(){this.list=[],this.index=0,this.isLoadMore=!1,this.statusLoad="loading"}}};e.default=c}).call(this,n("543d")["default"])},"3f0b":function(t,e,n){"use strict";var i=n("b209"),o=n.n(i);o.a},5738:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uniSearchBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar")]).then(n.bind(null,"8541"))},uniLoadMore:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(n.bind(null,"0260"))}},o=function(){var t=this.$createElement,e=(this._self._c,Number(this.option.type_id));this.$mp.data=Object.assign({},{$root:{m0:e}})},a=[]},"5c02":function(t,e,n){"use strict";n.r(e);var i=n("5738"),o=n("cafe");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("3f0b");var r=n("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"27dc3674",null,!1,i["a"],void 0);e["default"]=c.exports},b209:function(t,e,n){},ca83:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("2b1b"),n("a9ff");i(n("66fd"));var o=i(n("5c02"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},cafe:function(t,e,n){"use strict";n.r(e);var i=n("2208"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a}},[["ca83","common/runtime","common/vendor"]]]);